<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Cart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for quantity input */
        .quantity-input::-webkit-outer-spin-button,
        .quantity-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .quantity-input {
            appearance: textfield;
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto max-w-lg min-h-screen bg-white shadow-lg">
        <!-- Header -->
        <header class="bg-gray-800 text-white p-4 flex items-center sticky top-0 z-10">
            <button class="mr-4" onclick="location.href='index.html'">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
            </button>
            <h1 class="text-xl font-semibold">My Cart</h1>
        </header>

        <!-- Main Content -->
        <main class="p-4 space-y-6 pb-28">
            <!-- Cart Items Section -->
            <div id="cart-items" class="space-y-4">
                <!-- Cart items will be dynamically inserted here -->
            </div>

            <!-- Delivery Info -->
            <div class="bg-white p-4 rounded-lg border border-gray-200 flex items-center justify-between">
                <div class="flex items-center">
                    <div class="mr-4 text-blue-500">
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-map-pin"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                    </div>
                    <div>
                        <p class="font-bold">Sarthak saini</p>
                        <p class="text-sm text-gray-600">52, Nahrunagar, Uttar Pradesh, 490010</p>
                    </div>
                </div>
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>
                </button>
            </div>

            <!-- Price Details -->
            <div class="bg-white p-4 rounded-lg border border-gray-200">
                <h2 class="text-lg font-bold mb-4">Price Details</h2>
                <div id="price-details" class="space-y-2 text-gray-700">
                    <!-- Price details will be dynamically inserted here -->
                </div>
            </div>
        </main>

        <!-- Footer / Checkout Button -->
        <footer class="fixed bottom-0 left-0 right-0 max-w-lg mx-auto bg-white border-t border-gray-200 p-4">
            <button class="w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors" onclick="location.href='payment.html'">
                CONTINUE TO PAYMENT
            </button>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // State for our cart
            const state = {
                items: [
                    {
                        id: 1,
                        name: 'Art Canvas Painting',
                        description: 'Art Canvas Painting, Hardcover',
                        delivery: 'Delivery by may 4',
                        price: 399,
                        originalPrice: 499,
                        quantity: 1,
                        image: 'https://images.unsplash.com/photo-1547891654-e66ed7ebb968?w=500&auto=format&fit=crop&q=60'
                    },
                    {
                        id: 2,
                        name: 'Dokra Metal',
                        description: 'Dokra Metal, English, Hardcover',
                        delivery: 'Delivery by sept 2',
                        price: 299,
                        originalPrice: 399,
                        quantity: 1,
                        image: 'https://images.unsplash.com/photo-1600096194534-95cf5847e938?w=500&auto=format&fit=crop&q=60'
                    }
                ],
                shippingCharge: 80,
            };

            const cartItemsContainer = document.getElementById('cart-items');
            const priceDetailsContainer = document.getElementById('price-details');

            function renderCart() {
                // Clear existing content
                cartItemsContainer.innerHTML = '';
                priceDetailsContainer.innerHTML = '';

                if (state.items.length === 0) {
                     cartItemsContainer.innerHTML = `<p class="text-center text-gray-500">Your cart is empty.</p>`;
                }

                // Render each item
                state.items.forEach(item => {
                    const discount = Math.round(((item.originalPrice - item.price) / item.originalPrice) * 100);
                    const itemElement = document.createElement('div');
                    itemElement.className = 'bg-white p-4 rounded-lg border border-gray-200 flex';
                    itemElement.innerHTML = `
                        <!-- Product Image -->
                        <div class="w-1/4 mr-4">
                            <img src="${item.image}" alt="${item.name}" class="rounded-md object-cover w-full h-auto aspect-[5/6]">
                        </div>

                        <!-- Product Details -->
                        <div class="w-3/4">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h3 class="font-bold text-md">${item.name}</h3>
                                    <p class="text-sm text-gray-500">${item.description}</p>
                                    <p class="text-xs text-gray-500 mt-1">${item.delivery}</p>
                                </div>
                                <button class="text-gray-500 hover:text-red-500 remove-item-btn" data-id="${item.id}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                                </button>
                            </div>
                            <div class="flex items-center justify-between mt-3">
                                <div class="flex items-center">
                                    <p class="text-lg font-bold mr-2">₹ ${item.price}</p>
                                    <p class="text-sm text-gray-400 line-through mr-2">₹ ${item.originalPrice}</p>
                                    <p class="text-sm text-green-600 font-semibold">${discount}% off</p>
                                </div>
                            </div>
                            <div class="flex items-center mt-3">
                                <button class="quantity-btn decrease-qty-btn bg-gray-200 text-gray-700 w-7 h-7 rounded-full flex items-center justify-center" data-id="${item.id}" ${item.quantity === 1 ? 'disabled' : ''}>-</button>
                                <span class="mx-4 font-semibold text-center w-5 quantity-input" type="number" min="1">${item.quantity}</span>
                                <button class="quantity-btn increase-qty-btn bg-gray-200 text-gray-700 w-7 h-7 rounded-full flex items-center justify-center" data-id="${item.id}">+</button>
                            </div>
                        </div>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                });

                // Calculate and render totals
                const subTotal = state.items.reduce((acc, item) => acc + (item.price * item.quantity), 0);
                const totalSavings = state.items.reduce((acc, item) => acc + ((item.originalPrice - item.price) * item.quantity), 0);
                const total = subTotal + state.shippingCharge;

                priceDetailsContainer.innerHTML = `
                    <div class="flex justify-between">
                        <span>SubTotal</span>
                        <span class="font-medium">₹ ${subTotal.toFixed(2)}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Shipping charge</span>
                        <span class="font-medium">₹ ${state.shippingCharge.toFixed(2)}</span>
                    </div>
                    <div class="flex justify-between text-green-600">
                        <span>You Saved</span>
                        <span class="font-medium">₹ ${totalSavings.toFixed(2)}</span>
                    </div>
                    <div class="border-t border-dashed my-2"></div>
                    <div class="flex justify-between font-bold text-lg">
                        <span>Total</span>
                        <span>₹ ${total.toFixed(2)}</span>
                    </div>
                `;
                
                // Add event listeners after rendering
                addEventListeners();
            }

            function updateQuantity(itemId, change) {
                const item = state.items.find(i => i.id === itemId);
                if (item) {
                    item.quantity += change;
                    if (item.quantity < 1) {
                        item.quantity = 1;
                    }
                }
                renderCart();
            }

            function removeItem(itemId) {
                state.items = state.items.filter(i => i.id !== itemId);
                renderCart();
            }

            function addEventListeners() {
                document.querySelectorAll('.increase-qty-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.currentTarget.dataset.id);
                        updateQuantity(id, 1);
                    });
                });

                document.querySelectorAll('.decrease-qty-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.currentTarget.dataset.id);
                        updateQuantity(id, -1);
                    });
                });

                document.querySelectorAll('.remove-item-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.currentTarget.dataset.id);
                        removeItem(id);
                    });
                });
            }

            // Initial render
            renderCart();
        });
    </script>
</body>
</html>

